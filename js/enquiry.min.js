$(document).ready(function(){function e(g){try{var g=g.trim();JSON.parse(g)}catch(h){return false}return true}function b(h,g){setTimeout(function(){if(g=="show"){$("#loading").show();$("#custommessage").text(h)}else{$("#loading").hide();$("#custommessage").text("")}},0)}function c(i,h,g){$("#messagedisplay_modal .modal-title").text(h);$("#messagedisplay_modal .modal-body").html(i);$("#messagedisplay_modal").modal("show");setTimeout(function(){$("#nextbutton").focus()},400)}function a(i,h,g){if(g=="destroy"){$(i).find(".errormsg").remove()}else{if($(i).parent().find(".errormsg").length==0){$(i).parent().prepend('<div class="errormsg">'+h+"</div>")}}}$("body").on("keyup","input[data-pattern=password_h]",function(g){if($(this).val()!=""){if($(this).val().length<=4){$(this).parent().removeClass("ok").addClass("er")}else{$(this).parent().addClass("ok").removeClass("er");a($(this).parent()[0],"","destroy")}}else{$(this).parent().removeClass("ok").addClass("er")}}).on("blur","input[data-pattern=password_h]",function(g){if($(this).val()!=""){if($(this).val().length<=4){$(this).parent().removeClass("ok").addClass("er")}else{$(this).parent().addClass("ok").removeClass("er");a($(this).parent()[0],"","destroy")}}else{$(this).parent().removeClass("ok").addClass("er")}});$("body").on("keyup","input[data-required=yes],textarea[data-required=yes]",function(g){if($(this).val()==""||$(this).val()==" "){$(this).parent().removeClass("ok").addClass("er");a($(this)[0],"You can't leave this empty",0)}else{$(this).parent().removeClass("er").addClass("ok");a($(this).parent()[0],"","destroy")}}).on("blur","input[data-required=yes]",function(g){if($(this).val()==""||$(this).val()==" "){$(this).parent().removeClass("ok").addClass("er");a($(this)[0],"You can't leave this empty",0)}else{$(this).parent().removeClass("er").addClass("ok");a($(this).parent()[0],"","destroy")}});$("body").on("keyup blur","input[data-pattern=email]",function(h){if($(this).val()==""||$(this).val()==" "){if(!$(this).hasClass("optional")){$(this).parent().removeClass("ok").addClass("er")}else{$(this).parent().removeClass("ok er");a($(this).parent()[0],"","destroy")}}else{var g=/^[a-zA-Z0-9\._]{1,}@[a-zA-Z0-9]{2,}\.[a-zA-Z0-9\.]{2,}$/;if(g.test($(this).val())){$(this).parent().addClass("ok").removeClass("er");a($(this).parent()[0],"","destroy")}else{$(this).parent().removeClass("ok").addClass("er")}}});$("body").on("click","#signup-enquiry",function(){$("#enquiry_popup").hide();$("#sign_up_enquiryform").show()});$("body").on("click","#signup_back",function(g){g.preventDefault();$("#enquiry_popup").show();$("#sign_up_enquiryform").hide()});$("body").on("click","#login_sendenquiry",function(k){k.preventDefault();var h=$(this).closest("form").prop("action");var i=new FormData();var g=$(this).closest("form").find("input");var j=$(this);$.each(g,function(m,l){i.append(l.name,l.value)});b("","show");$.ajax({url:h,type:"POST",data:i,cache:false,processData:false,contentType:false}).done(function(m){b("","hide");if(e(m)){m=JSON.parse(m);if(typeof m.Success!=="undefined"&&typeof m.Error=="undefined"){c(m.Success,"Success",0);$("#contactusform").find("input[type=text],textarea,input[type=email]").val("");$(this).closest("form").find("input").val("");$("#enquiry_modal").modal("hide")}else{if(typeof m.Error!="undefined"){j.closest("#patient_que_form").find(".alert-danger").removeClass("hide");$("#send_enquiry_er").text(m.Error)}else{var l=0;for(key in m){if(m[key].er==""){$("#"+key).val(m[key].pd).parent().removeClass("error").find(".errormsg").remove()}else{$("#"+key).val(m[key].pd).parent().addClass("error").prepend('<div class="errormsg">'+m[key].er+"</div>")}}}}}}).error(function(){c(data.Error,"Error",0)})});$("body").on("click","#signup_sendenquiry",function(m){m.preventDefault();var j=$(this).closest("form").prop("action");var k=new FormData();var n=$(this).closest("form").find("input[type=hidden]");$.each(n,function(p,o){k.append(o.name,o.value)});var h=$(this).closest("form").find("input[type=text]");$.each(h,function(p,o){k.append(o.name,o.value)});var i=$(this).closest("form").find("input[type=password]");$.each(i,function(p,o){k.append(o.name,o.value)});var l=$(this).closest("form").find("input[type=checkbox]:checked");$.each(l,function(p,o){k.append(o.name,o.value)});var g=$(this).closest("form").find("input[type=radio]:checked");$.each(g,function(p,o){k.append(o.name,o.value)});b("","show");$.ajax({url:j,type:"POST",data:k,cache:false,processData:false,contentType:false}).done(function(p){b("","hide");if(e(p)){p=JSON.parse(p);if(typeof p.Success!="undefined"){c(p.Success,"Success",0);$("#send_enq_form").find("input[type=text],textarea,input[type=email]").val("");$(this).closest("form").find("input").val("");$("#sign_up_enquiryform").hide();$("#enquiry_modal").modal("hide")}else{if(typeof p.Error!="undefined"){c(p.Error,"Error",0)}else{var o=0;for(key in p){if(p[key].er==""){$("#"+key).val(p[key].pd).parent().removeClass("error").find(".errormsg").remove()}else{$("#"+key).val(p[key].pd).parent().addClass("error").prepend('<div class="errormsg">'+p[key].er+"</div>")}}}}}}).error(function(){c(data.Error,"Error",0)})});$("body").on("keyup","#name",function(){var g=$(this).val();$("#fname_").val(g)});$("body").on("keyup","#email1",function(){var g=$(this).val();$("#email_id_").val(g);$("#uname_p").val(g)});$("body").on("shown.bs.modal","#enquiry_modal",function(){$("#enquiry_modal input,#enquiry_modal select,#enquiry_modal label").each(function(g,h){if(h.nodeName=="LABEL"){var j=$(h).prop("for");$(h).prop("for",j.replace("enquiry",""))}else{var k=$(h).prop("id");$(h).prop("id",k.replace("enquiry",""));$(h).prop("name",$(h).prop("name").replace("enquiry",""))}});$("#patient_modal input,#patient_modal select,#patient_modal label").each(function(g,h){if(h.nodeName=="LABEL"){var j=$(h).prop("for");$(h).prop("for",j+"question")}else{var k=$(h).prop("id");$(h).prop("id",k+"question");$(h).prop("name",$(h).prop("name")+"question")}})});$("body").on("hide.bs.modal","#enquiry_modal",function(){$(this).find(".er").removeClass("er");$(this).find("input[type=text]").val("");$(this).find("input[type=email]").val("");$(this).find("textarea").val("");$(this).find("input[type=password]").val("");$(this).find("input[type=checkbox]").attr("checked",false);$("#patient_que_login").hide();$("#sign_up_topic").hide();b("","show");$(".attached_file_enquiry.attached").remove();$("#message").val("");$("#send_enquiry_er").addClass("hide");$.ajax({url:"../destroy/session",type:"POST",cache:false,processData:false,contentType:false}).done(function(g){b("","hide")})});$("body").on("change","input[data-pattern=email],#uname_p,#password_p,#fname_,#lname_,#city_,#mob_num_,#email_id_,#pwd_,#cpwd_,#toi_p",function(){$(this).parent().removeClass("error").find(".errormsg").remove()});function d(i,g){i={"image/png":1,"image/jpg":1,"image/jpeg":1,"application/pdf":1,"application/msword":1,"application/excel":1,"application/vnd.ms-excel":1,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":1,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":1};if(typeof i[g.files[0].type]!="undefined"){var h={name:g.files[0].name,size:g.files[0].size/1024/1024,};return h}else{return false}}function f(j,g,i,q,l,m){var p=i+1;var h=j+""+i;var o="#"+h;var k="#"+j+""+p;$(o).find(".delete_attached_file_enquiry").removeClass("hide");if($(m).find("input").length<=5){if($(k).length>0){}else{$(m).append('<span class="attached_file_enquiry pull-left btn btn-default btn-transparent np"><input type="file" name="file[]" class="hide add_attachment_enquiry new" data-max="5" data-bind="attached_files_enquiry" id="'+k.replace("#","")+'" data-num="'+p+'"><label for="'+k.replace("#","")+'" class="text-sm pd5 pad5 nm file-label pull-left">+Add attachment</label><span class="delete_attached_file_enquiry delete-btn text-sm pd5 pad5 btn-danger pull-left btn hide">x</span></span>')}}else{return false}return true}$("body").on("change",".add_attachment_enquiry",function(g){if($(this).val()!==""){var h=d(["png","jpeg","jpg","pdf","docx","doc","xlsx","xls"],this);console.log(h);if(h===false){$(this).val("");c("Please select only pdf,docx,doc,xlxs,jpg and png files.","Warning",0)}else{$(this).parent().addClass("attached");$(this).next().next().removeClass("hide");if($(this).hasClass("new")){if(f($(this).data("bind"),h.name,$(this).data("num"),$(this).data("max"),g,"."+$(this).data("bind")+"_outer")){$(this).next().next().removeClass("hide");$(this).removeClass("new").next().text(this.files[0].name)}else{c("You can attach upto 5 files.","Warning");$(this).val("")}}}}else{$(this).parent().remove()}});$("body").on("click",".delete_attached_file_enquiry",function(){$(this).prev().prev().val("").trigger("change")});$("body").append("<style>.delete-btn {padding: 5px; display: inline-block; line-height: 1; }.file-label {padding: 5px; line-height: 1.1; } .btn-transparent{background: rgba(0,0,0,0.1); border: 0; color: #fff; margin-right:5px;}</style>")});